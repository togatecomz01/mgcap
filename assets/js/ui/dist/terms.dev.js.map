{"version":3,"sources":["terms.js"],"names":["$","document","ready","TermsAgreement","$chkAll","$reqChks","$optChks","$consChk","$consChks","$allChks","$submitBtn","init","bindEvents","self","on","toggleAll","prop","uptAllChk","isChecked","uptConsAllChk","allReqChked","length","filter","allSelChked","allConsChked","allChecked","anyConsChked","BREAKPOINT","mq","window","matchMedia","backupIfNeeded","$els","each","$el","attr","is","toMobile","$scope","find","toPC","removeAttr","applyMode","isMobile","matches","addEventListener","e","addListener","lastMobile","nowMobile","width","MutationObserver","mo","muts","forEach","m","$added","addedNodes","add","nodeType","observe","body","childList","subtree","setInterval"],"mappings":"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","sourcesContent":["$(document).ready(function(){\n\n    /**\n     * 약관 동의\n     */\n    var TermsAgreement = (function () {\n\n        var $chkAll, $reqChks, $optChks, $consChk, $consChks, $allChks, $submitBtn;\n\n        return {\n            // 초기화\n            init: function () {\n                $chkAll = $('#chkAll'); // 전체 동의 (부모)\n                $reqChks = $('.chkReq'); // 필수 항목\n                $optChks = $('.chkOpt'); // 선택 항목\n                $consChk = $('#chkCons'); // 수신 동의 (부모)\n                $consChks = $('.chkConsChild'); // 수신 동의 항목 (SMS, 이메일, 광고성)\n                $allChks = $('.chkReq, .chkOpt, #chkCons, .chkConsChild'); // 전체 항목\n                // $submitBtn = $('#submitBtn'); // 가입 버튼\n\n                this.bindEvents();\n            },\n\n            // 이벤트\n            bindEvents: function () {\n\n                var self = this;\n\n                // 전체 동의 (부모)\n                $chkAll.on('change', function () {\n                    self.toggleAll($(this).prop('checked'));\n                });\n\n                // 전체 항목\n                $allChks.on('change', function () {\n                    // self.uptSubmitBtn();\n                    self.uptAllChk();\n                });\n\n                // 수신 동의 (부모)\n                $consChk.on('change', function () {\n                    var isChecked = $(this).prop('checked');\n                    $consChks.prop('checked', isChecked);\n                    self.uptAllChk();\n                });\n\n                // 수신 동의 항목\n                $consChks.on('change', function () {\n                    self.uptConsAllChk()\n                    self.uptAllChk();\n                });\n            },\n\n            toggleAll: function (isChecked) {\n                $allChks.prop('checked', isChecked);\n                // this.uptSubmitBtn();\n                this.uptAllChk();\n            },\n\n            // 전체 동의 체크 상태 업데이트 (체크 여부)\n            uptAllChk: function () {\n                var allReqChked = $reqChks.length === $reqChks.filter(':checked').length; // 필수 항목\n                var allSelChked = $optChks.length === $optChks.filter(':checked').length; // 선택 항목\n                var allConsChked = $consChks.length === $consChks.filter(':checked').length; // 수신 동의\n                var allChecked = $allChks.length === $allChks.filter(':checked').length; // 모든 항목\n\n                 //  필수 + 선택 + 수신 동의 ( 모두 체크 시 전체 동의 체크 활성화 )\n                if (allReqChked && allSelChked && allConsChked) {\n                    $chkAll.prop('checked', true);\n                } else {\n                    $chkAll.prop('checked', false);\n                }\n            },\n\n            // 수신 동의 항목 (하위 항목 중 하나라도 선택 시)\n            uptConsAllChk: function () {\n                var anyConsChked = $consChks.filter(':checked').length > 0;\n                $consChk.prop('checked', anyConsChked);\n            },\n\n            //버튼 활성화 (필수 항목)\n            // uptSubmitBtn: function () {\n            //     var allReqChked = $reqChks.length === $reqChks.filter(':checked').length;\n            //     $submitBtn.prop('disabled', !allReqChked);\n            // }\n        };\n    })();\n\n    TermsAgreement.init();\n\n\n});\n\n$(function () {\n    var BREAKPOINT = 768;               // 모바일: <=768, PC: >768\n    var mq = window.matchMedia('(max-width: ' + BREAKPOINT + 'px)');\n  \n    // 개별 요소에 대해 백업/복원/제거\n    function backupIfNeeded($els){\n      $els.each(function(){\n        var $el = $(this);\n        if (!$el.attr('data-open-bak') && $el.is('[data-popup-open]')) {\n          $el.attr('data-open-bak', $el.attr('data-popup-open')); // 값 백업\n        }\n      });\n    }\n    function toMobile($scope){\n      var $els = ($scope || $(document)).find('label[data-open-bak]');\n      // 백업이 있는 애들은 모두 복원\n      $els.each(function(){\n        var $el = $(this);\n        $el.attr('data-popup-open', $el.attr('data-open-bak'));\n      });\n    }\n    function toPC($scope){\n      var $els = ($scope || $(document)).find('label[data-popup-open], label[data-open-bak]');\n      // 우선 새로 들어온 요소도 백업 보장\n      backupIfNeeded($els);\n      // 그리고 data-popup-open 제거\n      $els.filter('[data-popup-open]').removeAttr('data-popup-open');\n    }\n  \n    // 초기 백업\n    backupIfNeeded($('label[data-popup-open]'));\n  \n    // 모드 적용\n    function applyMode(isMobile, $scope){\n      if (isMobile) toMobile($scope);\n      else toPC($scope);\n    }\n  \n    // 최초 1회\n    applyMode(mq.matches);\n  \n    // 브레이크포인트 변경 감지\n    if (mq.addEventListener) {\n      mq.addEventListener('change', function(e){ applyMode(e.matches); });\n    } else if (mq.addListener) { // 구형 브라우저\n      mq.addListener(function(e){ applyMode(e.matches); });\n    } else {\n      // 아주 구형 폴백: resize로 상태 전환 감지\n      var lastMobile = mq.matches;\n      $(window).on('resize', function(){\n        var nowMobile = $(window).width() <= BREAKPOINT;\n        if (nowMobile !== lastMobile) {\n          lastMobile = nowMobile;\n          applyMode(nowMobile);\n        }\n      });\n    }\n  \n    // 동적 추가 대응\n    if (window.MutationObserver) {\n      var mo = new MutationObserver(function(muts){\n        muts.forEach(function(m){\n          var $added = $(m.addedNodes);\n          if (!$added.length) return;\n          var $scope = $(); // batch\n          $added.each(function(){ $scope = $scope.add(this.nodeType === 1 ? this : []); });\n          if ($scope.length) {\n            // 새로 들어온 label에 대해 현재 모드 기준 바로 적용\n            applyMode(mq.matches, $scope);\n          }\n        });\n      });\n      mo.observe(document.body, { childList: true, subtree: true });\n    } else {\n      // 폴백: 주기적으로 정리\n      setInterval(function(){ applyMode(mq.matches); }, 500);\n    }\n  });\n  "],"file":"terms.dev.js"}