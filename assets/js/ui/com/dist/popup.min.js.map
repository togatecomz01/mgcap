{"version":3,"sources":["popup.js"],"names":["$","document","ready","lastTriggerEl","lastActiveEl","FOCUSABLE","restoreFocusBack","backEl","block","contains","inline","el","querySelector","getFallbackFocusEl","tries","attempt","scrollIntoView","focus","e","activeElement","setTimeout","rememberTrigger","target","$cand","closest","length","get","focusIntoLayer","container","layerStack","hasAttribute","getOpenLayers","Array","window","getComputedStyle","setAttribute","addEventListener","key","lastFocusInside","focusEl","i","push","popLayer","openLayers","top","splice","prototype","slice","call","filter","n","cs","display","visibility","last","k","$el","$target","initPopup","$firstFocusable","first","find","pick","addClass","scrollTop","ae","layer","getLayerContainer","documentElement","markLastFocusInside","MutationObserver","mutations","type","attributeName","nodeType","m","matches","oldVal","oldValue","indexOf","classList","wasOpen","isOpen","pushLayer","observe","body","attributes","domObs","muts","forEach","attributeOldValue","addedNodes","node","removedNodes","focusIntoPopup","childList","subtree","requestAnimationFrame","css","openModal","openMenu","closePopup","openPopup","_target","id","fkSelAndPopupResetOverflow","this","header","style","remove","position","isPopupOpen","isSelectOpen","removeAttr","toggleClass","removeClass","btmShtTL","$contentWrap","on","$openBtn","$t","popupId","$label","data","popupL","$modalBtn","$menuBtn","$closeBtn","$btmToggleBtn","$dimLayer","attr","btmAti","is","attributeFilter","observeLegacyLayerPopupClose"],"mappings":"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","file":"popup.min.js","sourcesContent":["$(document).ready(function () {\n  (function () {\n    var DEBUG = false;\n\n    // ���������� �˾��� �� Ʈ����(��ư/��ǲ/��)\n    var lastTriggerEl = null;\n\n    /* =========================================================\n       [2026-01-13] �߰� #A: ���������� ��Ŀ���� �ִ� ���(���� �˷� ���)\n       - Ŭ�� ���� �ߴ� �˷��� lastTriggerEl�� ���� �� ������ lastActiveEl�� ����\n    ========================================================= */\n    var lastActiveEl = null;\n\n    // ��Ŀ�� ������ ��� �ĺ� ������ (button ����)\n    var FOCUSABLE =\n      'a[href], button:not([disabled]), input:not([disabled]):not([type=\"hidden\"]), ' +\n      'select:not([disabled]), textarea:not([disabled]), [role=\"button\"], ' +\n      '[tabindex]:not([tabindex=\"-1\"])';\n\n    function log() {\n      if (!DEBUG) return;\n      try { console.log.apply(console, arguments); } catch (e) {}\n    }\n\n    /* =========================================================\n       [2026-01-13] �߰� #B: ������ ���� �˷����� \"���� ��\" ���� fallback ��Ŀ��\n       - lastTriggerEl / lastActiveEl�� ������ ����� �̵�\n       - ������Ʈ�� �°� selector �켱������ �ణ ��Ƶ�\n    ========================================================= */\n    function getFallbackFocusEl() {\n      // 1) �α��� ȭ���̶�� ���̵�/��� �Է��� �ֿ켱\n      var el =\n        document.querySelector('#loginId, #user_id, #userid, input[name=\"userId\"], input[name=\"id\"], input[type=\"text\"].login') ||\n        document.querySelector('#loginPw, #password, input[name=\"password\"], input[type=\"password\"]');\n\n      if (el) return el;\n\n      // 2) �α��� ��ư/��ũ(�ؽ�Ʈ ����� �����ϴ� class/id �켱)\n      el =\n        document.querySelector('#btnLogin, .btn-login, a.btn-login, button.btn-login') ||\n        document.querySelector('a[href*=\"login\"], button[onclick*=\"login\"], a[onclick*=\"login\"]');\n\n      if (el) return el;\n\n      // 3) ����/�������� ù ��Ŀ�� ���� ���\n      el =\n        document.querySelector('main ' + FOCUSABLE) ||\n        document.querySelector(FOCUSABLE);\n\n      return el || null;\n    }\n\n    /* =========================================================\n       [2026-01-15] ���� ���� �Լ�(�˾� \"���� ����\"������ ���)\n       - ��Ģ: ���̾ �ϳ��� ���� ��(=������ ����)�� \"�θ� Ʈ����\"�� ����\n    ========================================================= */\n    function restoreFocusBack() {\n      var backEl =\n        (lastTriggerEl && document.contains(lastTriggerEl)) ? lastTriggerEl :\n        (lastActiveEl && document.contains(lastActiveEl)) ? lastActiveEl :\n        getFallbackFocusEl();\n\n      if (!backEl || !document.contains(backEl)) return;\n\n      var tries = 0;\n      (function attempt() {\n        tries++;\n        try {\n          if (typeof backEl.scrollIntoView === \"function\") {\n            backEl.scrollIntoView({ block: \"nearest\", inline: \"nearest\" });\n          }\n          backEl.focus();\n        } catch (e) {}\n        if (document.activeElement === backEl) return;\n        if (tries < 3) setTimeout(attempt, 60);\n      })();\n    }\n\n    /* =========================================================\n       [2026-01-16] START (���� �۾�)\n        �ٽ� ��ǥ: \"�˾� �ȿ��� confirm/alert ���̾ �ߴ� 2�� �˾�\"�� �������� �ذ�\n       ---------------------------------------------------------\n       1) ���̾�(�˾�/confirm/alert)�� �������� ����\n          - ����: �ش� ���̾� ���η� ��Ŀ�� ����\n          - ����: �Ʒ� ���̾�� ���� (���̾ ������ restoreFocusBack)\n       2) ���� �ҽ� �ִ� Ȱ��:\n          - restoreFocusBack() �״�� ��� (��, ���̾ 0���� ���� ȣ��ǵ��� ����)\n          - focusIntoPopup() �״�� ��� (layerPopup ���� �� ����)\n          - ���� click �ڵ鷯/closePopup ����\n       3) ���� #G(�˷� �������� restoreFocusBack ȣ��)�� 2�� �������� Ʀ�� �����̶� ����/��ü\n    ========================================================= */\n\n    /* ---------------------------------------------\n       #E(���� ����) : data-* �� ����(Ŭ����/onclick) Ʈ���ŵ� lastTriggerEl�� ����\n       - �˾�/�˷� ���� Ŭ���� Ʈ���ŷ� ����� ����\n       - click���� ���� ��� ���� ĸó(pointerdown/mousedown/keydown) ���\n    --------------------------------------------- */\n    function rememberTrigger(target) {\n      var $cand = $(target).closest(\n        'a[href], button, input, select, textarea, label, [role=\"button\"], [tabindex]'\n      );\n      if (!$cand.length) return;\n\n      // �˾�/�˷� ���� Ŭ���� Ʈ���ŷ� ����� ����(�ݱ�/Ȯ�� ��ư ��)\n      if ($cand.closest(\".layerPopup, [role='alert'], [role='alertdialog'], [aria-modal='true'], .ui-dialog, [role='dialog']\").length) return;\n\n      lastTriggerEl = $cand.get(0);\n    }\n    document.addEventListener(\"pointerdown\", function (e) { rememberTrigger(e.target); }, true);\n    document.addEventListener(\"mousedown\", function (e) { rememberTrigger(e.target); }, true);\n    document.addEventListener(\"keydown\", function (e) {\n      if (e.key === \"Enter\" || e.key === \" \") rememberTrigger(e.target);\n    }, true);\n\n    /* ---------------------------------------------\n       [���̾� �Ǻ�] : \"�˾�/confirm/alert\" �����̳� �ĺ�\n       - ����û �˾�: .layerPopup.on\n       - confirm/alert: .pop-content.alert (����), .confirm, [role='alertdialog'] ��\n    --------------------------------------------- */\n    function getLayerContainer(el) {\n      if (!el) return null;\n      return el.closest(\n        \".layerPopup.on, .layerPopup.active,\" +                 // ���� �˾�\n        \".pop-content.alert, .alert, .confirm, .layerAlert,\" +  // confirm/alert �迭(������Ʈ ����)\n        \".message, .messagePop, .modalAlert,\" +\n        \".ui-dialog, [role='dialog'], [role='alertdialog'], [aria-modal='true']\"\n      );\n    }\n\n    /* ---------------------------------------------\n       [���̾� ���� ù ��Ŀ��] : confirm�� ��ư �켱\n    --------------------------------------------- */\n    function firstFocusableIn(container) {\n      if (!container) return null;\n\n      // ����: confirm_yes/no �� ������ �ֿ켱\n      var el =\n        container.querySelector(\"#confirm_yes, #confirm_no\") ||\n        container.querySelector(\"[data-confirm-yes], [data-confirm-no]\");\n      if (el) return el;\n\n      el = container.querySelector(FOCUSABLE);\n      if (el) return el;\n\n      // ����: �����̳� ��ü\n      if (!container.hasAttribute(\"tabindex\")) container.setAttribute(\"tabindex\", \"-1\");\n      return container;\n    }\n\n    /* ---------------------------------------------\n       [�����ִ� ���̾� ���] : ���� �� ���� ���� �Ǵܿ�\n    --------------------------------------------- */\n    function getOpenLayers() {\n      var nodes = Array.prototype.slice.call(\n        document.querySelectorAll(\n          \".layerPopup.on, .layerPopup.active,\" +\n          \".pop-content.alert, .alert, .confirm, .layerAlert,\" +\n          \".message, .messagePop, .modalAlert,\" +\n          \".ui-dialog, [role='alertdialog'], [role='dialog'][aria-modal='true']\"\n        )\n      );\n\n      return nodes.filter(function (n) {\n        if (!n || !document.contains(n)) return false;\n        var cs = window.getComputedStyle(n);\n        return cs.display !== \"none\" && cs.visibility !== \"hidden\";\n      });\n    }\n\n    /* ---------------------------------------------\n       [���̾� ���η� ��Ŀ�� ����] (��õ� ����)\n    --------------------------------------------- */\n    function focusIntoLayer(container) {\n      if (!container || !document.contains(container)) return;\n\n      var tries = 0;\n      (function attempt() {\n        tries++;\n        var el = firstFocusableIn(container);\n        try { el.focus(); } catch (e) {}\n\n        if (document.activeElement === el) return;\n        if (tries < 4) setTimeout(attempt, 60);\n      })();\n    }\n\n    /* ---------------------------------------------\n       [���̾� ����] : 2�� �˾� ��Ŀ�� ���͸� ���� ó��\n    --------------------------------------------- */\n    var layerStack = []; // { el: HTMLElement, lastFocusInside: HTMLElement|null }\n\n    function pushLayer(container) {\n      if (!container) return;\n\n      // �ߺ� push ����\n      for (var i = layerStack.length - 1; i >= 0; i--) {\n        if (layerStack[i].el === container) {\n          focusIntoLayer(container);\n          return;\n        }\n      }\n\n      layerStack.push({ el: container, lastFocusInside: null });\n      focusIntoLayer(container);\n    }\n\n    function markLastFocusInside(container, focusEl) {\n      if (!container || !focusEl) return;\n\n      for (var i = layerStack.length - 1; i >= 0; i--) {\n        if (layerStack[i].el === container) {\n          layerStack[i].lastFocusInside = focusEl;\n          return;\n        }\n      }\n\n      // ���ÿ� ������(���Ž÷� ���ڱ� �� ���̾�) push�ϰ� ���\n      layerStack.push({ el: container, lastFocusInside: focusEl });\n    }\n\n    function popLayer(container) {\n      if (!container) return;\n\n      // ���ÿ��� ����\n      for (var i = layerStack.length - 1; i >= 0; i--) {\n        if (layerStack[i].el === container) {\n          layerStack.splice(i, 1);\n          break;\n        }\n      }\n\n      // ���� �Ŀ��� ���̾ ���������� -> ���� �� ���̾�� ����\n      var openLayers = getOpenLayers();\n\n      if (openLayers.length) {\n        var top = openLayers[openLayers.length - 1];\n\n        // top ���̾ lastFocusInside�� ������ �켱 ���\n        var last = null;\n        for (var k = layerStack.length - 1; k >= 0; k--) {\n          if (layerStack[k].el === top && layerStack[k].lastFocusInside && document.contains(layerStack[k].lastFocusInside)) {\n            last = layerStack[k].lastFocusInside;\n            break;\n          }\n        }\n\n        if (last) {\n          try { last.focus(); } catch (e) {}\n          setTimeout(function () { try { last.focus(); } catch (e) {} }, 0);\n        } else {\n          focusIntoLayer(top);\n        }\n        return;\n      }\n\n      // ���̾ �ϳ��� ������ -> ���������� �θ� Ʈ���ŷ� ����\n      restoreFocusBack();\n    }\n\n    /* ---------------------------------------------\n       ? focusin ��� ��ü: ���̾� ���δ� ���ÿ� ��� / ���̾� ���� lastActiveEl ���\n       - (���� \"�˾� ���δ� ������� ����\" ���� ����)\n    --------------------------------------------- */\n    document.addEventListener(\"focusin\", function () {\n      var ae = document.activeElement;\n      if (!ae || ae === document.body || ae === document.documentElement) return;\n\n      var layer = getLayerContainer(ae);\n      if (layer) {\n        markLastFocusInside(layer, ae);\n        return;\n      }\n\n      lastActiveEl = ae;\n    });\n\n    /* ---------------------------------------------\n       ? ���̾� ����/���� ���� (class ��� + DOM �߰�/���� ���)\n    --------------------------------------------- */\n    (function observeLayerOpenClose() {\n      if (!window.MutationObserver) return;\n\n      // 1) class ���(on/active) ����\n      var classObs = new MutationObserver(function (mutations) {\n        for (var i = 0; i < mutations.length; i++) {\n          var m = mutations[i];\n          if (m.type !== \"attributes\" || m.attributeName !== \"class\") continue;\n\n          var el = m.target;\n          if (!el || el.nodeType !== 1) continue;\n\n          // ���̾� �ĺ��� ó��\n          if (!el.matches(\n            \".layerPopup, .pop-content.alert, .alert, .confirm, .layerAlert, .message, .messagePop, .modalAlert, \" +\n            \".ui-dialog, [role='dialog'], [role='alertdialog'], [aria-modal='true']\"\n          )) continue;\n\n          var oldVal = m.oldValue || \"\";\n          var wasOpen = (oldVal.indexOf(\"on\") !== -1) || (oldVal.indexOf(\"active\") !== -1);\n          var isOpen = el.classList.contains(\"on\") || el.classList.contains(\"active\");\n\n          if (!wasOpen && isOpen) {\n            // ����: ���η� ��Ŀ�� ����\n            pushLayer(el);\n          } else if (wasOpen && !isOpen) {\n            // ����: �Ʒ� ���̾� or �θ�� ����\n            setTimeout(function () { popLayer(el); }, 0);\n          }\n        }\n      });\n\n      classObs.observe(document.body, {\n        subtree: true,\n        attributes: true,\n        attributeOldValue: true,\n        attributeFilter: [\"class\"]\n      });\n\n      // 2) DOM �߰�/���� ���� (confirm�� remove �Ǵ� Ÿ��)\n      var domObs = new MutationObserver(function (muts) {\n        muts.forEach(function (m) {\n          // added\n          if (m.addedNodes && m.addedNodes.length) {\n            Array.prototype.forEach.call(m.addedNodes, function (node) {\n              if (!node || node.nodeType !== 1) return;\n\n              if (node.matches && node.matches(\n                \".pop-content.alert, .alert, .confirm, .layerAlert, .message, .messagePop, .modalAlert, [role='alertdialog'], [role='dialog'][aria-modal='true']\"\n              )) {\n                pushLayer(node);\n              }\n            });\n          }\n\n          // removed\n          if (m.removedNodes && m.removedNodes.length) {\n            Array.prototype.forEach.call(m.removedNodes, function (node) {\n              if (!node || node.nodeType !== 1) return;\n\n              if (node.matches && node.matches(\n                \".pop-content.alert, .alert, .confirm, .layerAlert, .message, .messagePop, .modalAlert, [role='alertdialog'], [role='dialog'][aria-modal='true'], .layerPopup\"\n              )) {\n                setTimeout(function () { popLayer(node); }, 0);\n              }\n            });\n          }\n        });\n      });\n\n      domObs.observe(document.body, { childList: true, subtree: true });\n    })();\n\n    /* =========================================================\n       [2026-01-16] END (���� �۾�)\n    ========================================================= */\n\n    // �˾� ���η� ��Ŀ�� �̵� (���� �Լ� �ִ� Ȱ�� �״�� ����)\n    function focusIntoPopup($target) {\n      if (!$target || !$target.length) return;\n\n      function pick() {\n        var $firstFocusable = $target\n          .find(FOCUSABLE)\n          .filter(\":visible\")\n          .first();\n\n        if ($firstFocusable.length) return $firstFocusable;\n\n        var $el = $target.find(\".pop-area\").first();\n        if (!$el.length) $el = $target.find(\".pop-content\").first();\n        if (!$el.length) $el = $target;\n\n        if (!$el.is(\"[tabindex]\")) $el.attr(\"tabindex\", \"-1\");\n        return $el;\n      }\n\n      var tries = 0;\n      (function attempt() {\n        tries++;\n        var $el = pick();\n        try { $el.get(0).focus(); } catch (e) {}\n\n        if (document.activeElement === $el.get(0)) return;\n        if (tries < 4) setTimeout(attempt, 60);\n      })();\n    }\n\n    var popupL = {\n      /** �˾� �ʱ�ȭ **/\n      initPopup: function (id) {\n        var $target = $(\"#\" + id);\n        if (!$target.length) return;\n\n        $target.addClass(\"on\");\n        $target.find(\".pop-content\").scrollTop(0);\n        $(\"body, .contentWrap\").css(\"overflow\", \"hidden\");\n\n        log(\"initPopup:\", id);\n\n        // ���� ��Ŀ�� ���� �״�� ���\n        focusIntoPopup($target);\n\n        // Ŭ�� ��Ŀ�� �ǵ��� ������ 2��\n        requestAnimationFrame(function () {\n          focusIntoPopup($target);\n        });\n\n        // [2026-01-16] ���̾� ���ÿ��� ���(���� �� ���� push)\n        // - closePopup�� �ƴ϶� class ��۷� ������ ���̽��� ������ observer�� ��κ� ó��������,\n        //   ���⼭�� �����ϰ� push(�ߺ��� pushLayer�� ����)\n        pushLayer($target.get(0));\n      },\n\n      openPopup: function (id) { this.initPopup(id); },\n      openModal: function (id) { this.initPopup(id); log(\"openModal:\", id); },\n      openMenu: function (id) { this.initPopup(id); log(\"openMenu:\", id); },\n\n      /** �˾� �ݱ� **/\n      closePopup: function (id) {\n        var _target = document.getElementById(id);\n        if (_target) _target.classList.remove(\"on\");\n\n        this.fkSelAndPopupResetOverflow();\n\n        if (_target && _target.classList.contains(\"full\")) {\n          var header = _target.querySelector(\".pop-header\");\n          if (header) header.style.position = \"\";\n        }\n\n        this.fkSelAndPopupResetOverflow();\n\n        // [2026-01-16] �˾� ������ \"���̾� pop\"���� ó��\n        // - popLayer�� ���� ���̾� ���������� ��������,\n        //   �ƹ��͵� ������ restoreFocusBack()���� �θ� ����\n        setTimeout(function () {\n          if (_target) popLayer(_target);\n          else restoreFocusBack(); // ������\n        }, 50);\n      },\n\n      fkSelAndPopupResetOverflow: function () {\n        var isPopupOpen = $(\".layerPopup.on\").length > 0;\n        var isSelectOpen = $(\".stove-option-layer.on\").length > 0;\n\n        if (!isPopupOpen && !isSelectOpen) {\n          $(\"body, .contentWrap\").css(\"overflow\", \"\");\n          $(\".pop-area, .pop-content\").removeAttr(\"tabindex\");\n\n          setTimeout(function () {\n            $(\".layerPopup.toggleUp\").removeClass(\"active\");\n          }, 10);\n        }\n      }\n    };\n\n    var btmShtTL = {\n      btmAti: function (id) {\n        var $target = $(\"#\" + id);\n        if (!$target.length) return;\n\n        var $contentWrap = $target.find(\".pop-content\");\n        $target.toggleClass(\"active\");\n\n        log(\"btmAti:\", id);\n\n        if ($target.hasClass(\"active\")) {\n          $contentWrap.scrollTop(0);\n          $contentWrap.attr(\"tabindex\", \"-1\");\n          setTimeout(function () { try { $contentWrap.get(0).focus(); } catch (e) {} }, 0);\n          setTimeout(function () { try { $contentWrap.get(0).focus(); } catch (e) {} }, 60);\n\n          // [2026-01-16] ���ҽ�Ʈ�� ���̾� ���(�ʿ� ��)\n          pushLayer($target.get(0));\n        } else {\n          $contentWrap.removeAttr(\"tabindex\");\n\n          // [2026-01-16] ������ pop\n          popLayer($target.get(0));\n        }\n      }\n    };\n\n    // �� + change �� �˾� ���� ���̽� (���� ����)\n    $(document).on(\"change\", \"input, select, textarea\", function () {\n      var $label = $('label[for=\"' + this.id + '\"]');\n      var popupId = $label.data(\"popup-open\");\n      if (!popupId) return;\n\n      lastTriggerEl = $label.get(0) || this;\n      popupL.openPopup(popupId);\n    });\n\n    // Ŭ������ ���ݴ� ���̽� (���� ����)\n    $(document).on(\"click\", function (e) {\n      var $t = $(e.target);\n\n      var $openBtn = $t.closest(\"[data-popup-open]\");\n      if ($openBtn.length) {\n        lastTriggerEl = $openBtn.get(0);\n        return popupL.openPopup($openBtn.data(\"popup-open\"));\n      }\n\n      var $modalBtn = $t.closest(\"[data-modal-open]\");\n      if ($modalBtn.length) {\n        lastTriggerEl = $modalBtn.get(0);\n        return popupL.openModal($modalBtn.data(\"modal-open\"));\n      }\n\n      var $menuBtn = $t.closest(\"[data-menu-open]\");\n      if ($menuBtn.length) {\n        lastTriggerEl = $menuBtn.get(0);\n        return popupL.openMenu($menuBtn.data(\"menu-open\"));\n      }\n\n      var $closeBtn = $t.closest(\"[data-popup-close]\");\n      if ($closeBtn.length) return popupL.closePopup($closeBtn.data(\"popup-close\"));\n\n      var $btmToggleBtn = $t.closest(\"[data-btm-toggle]\");\n      if ($btmToggleBtn.length) {\n        lastTriggerEl = $btmToggleBtn.get(0);\n        return btmShtTL.btmAti($btmToggleBtn.data(\"btm-toggle\"));\n      }\n\n      // ���ҽ�Ʈ dim Ŭ�� �� �ݱ� (���� ����)\n      var $dimLayer = $t.closest(\".layerPopup.btmSheet\");\n      if ($dimLayer.length && $t.is($dimLayer)) {\n        $dimLayer.removeClass(\"active\").find(\".pop-content\").removeAttr(\"tabindex\");\n        popupL.closePopup($dimLayer.attr(\"id\"));\n      }\n    });\n\n    /* =========================================================\n       [2026-01-13] �߰� #D: ���Ž�(Ŭ����/onclick)�� ������ layerPopup ��Ŀ�� ����(����)\n       - ���� ����� ���� �ʱ� ���� .layerPopup.on \"����\"�� ����\n       - [2026-01-16]  ���⼭�� ���� ���� �� focusIntoPopup + pushLayer�� ����\n    ========================================================= */\n    (function observeLegacyLayerPopupOpen() {\n      if (!window.MutationObserver) return;\n\n      var obs = new MutationObserver(function (mutations) {\n        for (var i = 0; i < mutations.length; i++) {\n          var m = mutations[i];\n          if (m.type !== \"attributes\" || m.attributeName !== \"class\") continue;\n\n          var el = m.target;\n          if (!el || !el.classList) continue;\n          if (!el.classList.contains(\"layerPopup\")) continue;\n\n          var oldVal = m.oldValue || \"\";\n          var wasOpen = oldVal.indexOf(\"on\") !== -1;\n          var isOpen = el.classList.contains(\"on\");\n\n          if (!wasOpen && isOpen) {\n            focusIntoPopup($(el));\n            // [2026-01-16] ���� push\n            pushLayer(el);\n          }\n        }\n      });\n\n      obs.observe(document.body, {\n        subtree: true,\n        attributes: true,\n        attributeOldValue: true,\n        attributeFilter: [\"class\"]\n      });\n    })();\n\n    /* ===== [2026-01-15] START =====\n       #F ���Ž� ���� ����(���� closePopup �� ���� class�� ���� ���)\n       - .layerPopup.on �� ������ ���� popLayer() ����\n       - (���� restoreFocusBack ���) ���� ��Ģ���� �Ʒ� ���̾�/�θ� ����\n    ===== */\n    (function observeLegacyLayerPopupClose() {\n      if (!window.MutationObserver) return;\n\n      var obs = new MutationObserver(function (mutations) {\n        for (var i = 0; i < mutations.length; i++) {\n          var m = mutations[i];\n          if (m.type !== \"attributes\" || m.attributeName !== \"class\") continue;\n\n          var el = m.target;\n          if (!el || !el.classList) continue;\n          if (!el.classList.contains(\"layerPopup\")) continue;\n\n          var oldVal = m.oldValue || \"\";\n          var wasOpen = oldVal.indexOf(\"on\") !== -1;\n          var isOpen = el.classList.contains(\"on\");\n\n          if (wasOpen && !isOpen) {\n            setTimeout(function () { popLayer(el); }, 50);\n          }\n        }\n      });\n\n      obs.observe(document.body, {\n        subtree: true,\n        attributes: true,\n        attributeOldValue: true,\n        attributeFilter: [\"class\"]\n      });\n    })();\n    /* ===== [2026-01-15] END ===== */\n\n\n    /* =========================================================\n       [2026-01-16] START  (���� �۾�)\n        ���� #G(�˷� �������� restoreFocusBack ȣ��) ����/��ü\n       - ����: confirm(�˷�) ������ \"�θ� Ʈ����\"�� �ƴ϶� \"�Ʒ� ���̾�(����û �˾�)\"�� ���� ��\n       - ������ observeLayerOpenClose()�� DOM remove/class ����� ������ popLayer()�� ó����\n    ========================================================= */\n    // (�ǵ������� �����)  �� ���� observeGenericAlertClose() ������ ����/�ּ� ó��\n    /* =========================================================\n       [2026-01-16] END (���� �۾�)\n    ========================================================= */\n\n    // ���� ����\n    window.popupL = popupL;\n    window.btmShtTL = btmShtTL;\n    window.fkSelAndPopupResetOverflow = popupL.fkSelAndPopupResetOverflow;\n  })();\n});\n"]}