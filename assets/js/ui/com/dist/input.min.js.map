{"version":3,"sources":["input.js"],"names":["$","document","ready","activeElement","scrollIntoView","behavior","tagName","window","setTimeout","block","init","scope","$input","data","find","each","on","ensureClear","this","iptFocusScrl","commaFormatter","input","classList","contains","value","replace","$wrap","closest","disabled","prop","hasVal","val","trim","$btn","e","removeClass","focus","trigger","$box","length","$file","first","$label","restoreText","originalText","remove","format","fileUploader","$container","$uploadButton","$fileInput","$fileLabel","text","key","preventDefault","file","files","fileName","name","$imgPhoto","startsWith","reader","FileReader","onload","html","target","result","readAsDataURL","empty","appendTo","storedOriginalText","$currentImgPhoto","querySelectorAll","forEach","querySelector","ta","wrap","counter","curEl","maxEl","max","parseInt","isNaN","getAttribute","update","textContent","String","len","substring"],"mappings":"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","file":"input.min.js","sourcesContent":["$(document).ready(function(){\n  /*---------------------------------------------\nready, load, init\n  ---------------------------------------------*/\n  $(document).ready(function(){\n      iptFocusScrl();\n      fileUploader.init();\n      initClearable(); // Ŭ���� ��ư �ʱ�ȭ\n  });\n\n  /**\n   * 3�ڸ� ������ �޸� ����\n  **/\n  var commaFormatter = (function () {\n      return {\n          format: function (input) {\n              // unit Ŭ������ ������ �׳� ����\n              if (!input.classList.contains('unit')) return;\n  \n              var value = input.value.replace(/[^0-9]/g, ''); // ���� �̿� ����\n              value = value.replace(/,/g, ''); // ���� ',' ����\n              value = value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"); // 3�ڸ����� ',' �߰�\n  \n              input.value = value;\n          }\n      };\n  })();\n  // event\n  $(document).on('keyup', 'input[inputmode=numeric]', function() {\n      commaFormatter.format(this);\n  });\n\n   /*---------------------------\n    �Է� Ŭ���� ��ư (����)\n    - .ipt-clear ���� ������ �ڵ� ����\n    - readonly ���(= ��ư ���� ���� ����)\n  ---------------------------*/\n  function ensureClear($input) {\n    // ���� ����\n    var $wrap = $input.closest('.ipt-clear');\n    /*if (!$wrap.length) {\n      $input.wrap('<span class=\"ipt-clear\"></span>');\n      $wrap = $input.parent();\n    }*/\n\n    // disabled�� ���� (readonly�� ���)\n    var disabled = $input.prop('disabled');\n    var hasVal = ($input.val() || '').trim() !== '' && !disabled;\n    var $btn = $wrap.find('> .btn-clear');\n\n    if (hasVal && !$btn.length) {\n      $('<button type=\"button\" class=\"btn-clear\" aria-label=\"�Է� �����\" title=\"�����\">\\xd7</button>')\n        .appendTo($wrap)\n        .on('click', function (e) {\n          e.preventDefault();\n\n          // 1) �ؽ�Ʈ �ʱ�ȭ\n          $input.val('').removeClass('up').focus().trigger('input');\n\n          // 2) ���� .ipt-file �����̳ʰ� �ִٸ� ����/�󺧵� �ʱ�ȭ\n          var $box = $wrap.closest('.ipt-file');\n          if ($box.length) {\n            var $file  = $box.find('input[type=\"file\"]').first();\n            var $label = $box.find('.fileLabel').first();\n            if ($file.length)  $file.val('').trigger('change'); // ���� ����/������ ����ȭ\n            if ($label.length) {\n              // ���� �ؽ�Ʈ ����: ���� �ؽ�Ʈ�� ������ ��������, ������ �� ���ڿ���\n              var originalText = $label.data('original-text') || '';\n              var restoreText = originalText.trim() !== '' ? originalText : '';\n              $label.text(restoreText);\n            }\n          }\n\n          // 3) ��ư ����\n          $(this).remove();\n        });\n    } else if (!hasVal && $btn.length) {\n      $btn.remove();\n    }\n  }\n\n  function bindClearOnce($input) {\n    if ($input.data('clear-bound')) return;\n    $input\n      .on('input', function () { ensureClear($(this)); })\n      .on('keyup change propertychange', function () { ensureClear($(this)); }); // IE ����\n    $input.data('clear-bound', true);\n    ensureClear($input); // �ʱ� ���� �ݿ�\n  }\n\n  function initClearable(scope) {\n    (scope || $(document)).find('input[type=\"text\"]').each(function () {\n      bindClearOnce($(this));\n    });\n  }\n\n\n  /**\n   * ���� ���ε�\n   */\n  var fileUploader = (function () {\n      return {\n          init: function () {\n              // �� .ipt-file �����̳ʸ� ���������� ó��\n              $('.ipt-file').each(function() {\n                  var $container = $(this);\n                  var $uploadButton = $container.find('.uploadButton');\n                  var $fileInput = $container.find('input[type=\"file\"]');\n                  var $fileLabel = $container.find('.fileLabel');\n                  \n                  // ���� �ؽ�Ʈ ���� (�ʱ�ȭ ������ ����) - �� ���ڿ��� �״�� ����\n                  var originalText = $fileLabel.text();\n                  $fileLabel.data('original-text', originalText);\n                  \n                  // ���� ���� ��ư Ŭ��\n                  $uploadButton.on('click', function () {\n                      $fileInput.trigger('click');\n                  });\n                  \n                  // Ű���� ���ټ�\n                  $uploadButton.on('keydown', function (e) {\n                      if (e.key === 'Enter' || e.key === ' ') {\n                          e.preventDefault();\n                          $fileInput.trigger('click');\n                      }\n                  });\n                  \n                  // ���� ���� �� ���ϸ� ǥ�� �� �̹��� �̸�����\n                  $fileInput.on('change', function () {\n                      var file = this.files[0];\n                      var fileName = file ? file.name : '';\n                      \n                      // ���� �����̳��� ���̺��� ������Ʈ\n                      $fileLabel.text(fileName);\n                      \n                      // �̹��� �̸����� (���� �����̳��� .img-photo)\n                      var $imgPhoto = $container.closest('.photo-content').find('.img-photo');\n                      if (file && file.type.startsWith('image/')) {\n                        var reader = new FileReader();\n                        reader.onload = function(e) {\n                          $imgPhoto.html('<img src=\"' + e.target.result + '\" alt=\"���ε�� �̹���\" style=\"max-width:190px; max-height:253px;\">');\n                        };\n                        reader.readAsDataURL(file);\n                      } else {\n                        $imgPhoto.empty();\n                      }\n                      \n                      // ���� ���ε� �� Ŭ���� ��ư ����\n                      if (fileName) {\n                        // ���� Ŭ���� ��ư ����\n                        $fileLabel.find('.btn-clear').remove();\n                        \n                        // Ŭ���� ��ư ����\n                        $('<button type=\"button\" class=\"btn-clear\" aria-label=\"÷������ ����\" title=\"����\">��</button>')\n                          .appendTo($fileLabel)\n                          .on('click', function (e) {\n                            e.preventDefault();\n                            \n                            // ���� �ʱ�ȭ (���� �����̳ʸ�)\n                            $fileInput.val('');\n                            \n                            // �ؽ�Ʈ ����: ���� �ؽ�Ʈ�� ������ ��������, ������ �� ���ڿ���\n                            var storedOriginalText = $fileLabel.data('original-text') || '';\n                            var restoreText = storedOriginalText.trim() !== '' ? storedOriginalText : '';\n                            $fileLabel.text(restoreText);\n                            \n                            // ���� �����̳��� �̹��� �̸����� ����\n                            var $currentImgPhoto = $container.closest('.photo-content').find('.img-photo');\n                            $currentImgPhoto.empty();\n                            \n                            // ��ư ����\n                            $(this).remove();\n                          });\n                      }\n                  });\n              });\n          }\n      };\n  })();\n\n    /**\n     * Android ��ǲ ��Ŀ�� ��ũ�� �̽�\n    **/\n    function iptFocusScrl() {\n        if(/Android/i.test(navigator.userAgent) ) {\n            window.addEventListener(\"resize\", function(){\n                if( document.activeElement.tagName==\"INPUT\" ){\n                    window.setTimeout(function(){\n                        document.activeElement.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n                    },0);\n                }\n            });\n        }\n    }\n});\n\n\n /**\n     * ���� ���ڼ� ī����\n     * - �� textarea�� maxlength ���� �о� �ִ�ġ�� ���\n     * - .char-counter �� .current / .max�� �ڵ� ����\n     * - aria-live=\"polite\"�� ��ũ�������� �ε巴�� �˸�\n     */\n (function () {\n  function initCounter(wrap) {\n    var ta = wrap.querySelector('textarea');\n    var counter = wrap.querySelector('.char-counter');\n    if (!ta || !counter) return;\n\n    var curEl = counter.querySelector('.current');\n    var maxEl = counter.querySelector('.max');\n\n    // maxlength�� ������ �⺻ 1000����\n    var max = parseInt(ta.getAttribute('maxlength'), 10);\n    if (isNaN(max) || max <= 0) max = 1000;\n\n    // ǥ�� ���� ����\n    if (maxEl) maxEl.textContent = String(max);\n\n    // �Է� �� ����\n    var update = function () {\n      var len = ta.value.length;\n      if (len > max) {\n        // Ȥ�ó� ��ũ��Ʈ�� �Ѿ�� �ڸ��� (�������� ���� ������ ������ġ)\n        ta.value = ta.value.substring(0, max);\n        len = max;\n      }\n      if (curEl) curEl.textContent = String(len);\n    };\n\n    // �ʱ� 1ȸ �ݿ�\n    update();\n    ta.addEventListener('input', update);\n  }\n\n  // ������ �� ��� textarea-wrap ó��\n  document.querySelectorAll('.textarea-wrap').forEach(initCounter);\n})();"]}