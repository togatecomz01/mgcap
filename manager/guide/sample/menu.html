<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="euc-kr" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />

        <title>���ڵ�� LNB</title>
        <style>
            /* �⺻ ���̾ƿ�(���� ���ÿ� ���� ����) */
            header,
            nav,
            main,
            footer {
                display: block;
            }
            html,
            body {
                height: 100%;
            }
            body {
                margin: 0;
                -webkit-text-size-adjust: none;
                font-family: Arial, sans-serif;
                color: #222;
            }

            .container {
                display: -ms-flexbox;
                display: flex;
                -ms-flex-direction: row;
                flex-direction: row;
            }
            .lnb {
                -ms-flex: 0 0 240px;
                flex: 0 0 240px;
                width: 240px;
                border-right: 1px solid #e5e5e5;
                padding: 16px;
            }
            .contentWrap {
                -ms-flex: 1 1 auto;
                flex: 1 1 auto;
                min-width: 0;
                padding: 24px;
            }

            /* LNB ����Ʈ */
            .lnb ul {
                margin: 0;
                padding: 0;
                list-style: none;
            }
            .lnb li {
                border-bottom: 1px solid #f0f0f0;
            }

            /* ���� ��ư(���) */
            .lnb .lnb-toggle {
                display: block;
                width: 100%;
                text-align: left;
                background: #fff;
                color: #222;
                border: 0;
                padding: 12px 12px;
                font-size: 16px;
                cursor: pointer;
            }
            .lnb .lnb-toggle:focus {
                outline: 2px solid #000;
                outline-offset: -2px;
            }

            /* ���� �޴� - �ִϸ��̼� ȿ�� */
            .lnb .submenu {
                max-height: 0;
                overflow: hidden;
                padding: 0 12px;
                transition: max-height 0.3s ease-in-out, padding 0.3s ease-in-out;
                opacity: 0;
            }
            .lnb .submenu li + li {
                margin-top: 6px;
            }
            .lnb .submenu a {
                color: #333;
                text-decoration: none;
                display: block;
                padding: 8px 0;
                transition: color 0.2s ease;
            }
            .lnb .submenu a:focus,
            .lnb .submenu a:hover {
                text-decoration: underline;
                color: #007bff;
            }

            /* �������� �� - �ִϸ��̼� */
            .lnb li.is-open > .submenu {
                max-height: 200px;
                padding: 8px 12px 12px;
                opacity: 1;
            }

            /* ���� ������ �ִϸ��̼� */
            .lnb .lnb-toggle .indicator {
                float: right;
                transition: transform 0.3s ease;
            }
            .lnb li.is-open .lnb-toggle .indicator {
                transform: rotate(90deg);
            }

            /* ��ư ȣ�� ȿ�� */
            .lnb .lnb-toggle:hover {
                background-color: #f8f9fa;
                transition: background-color 0.2s ease;
            }
        </style>
    </head>
    <body>
        <header id="headerWrap" class="headerOn">���</header>

        <div class="container">
            <nav class="lnb" role="navigation" aria-label="���� �޴�" data-accordion="single">
                <ul>
                    <li class="item">
                        <button type="button" class="lnb-toggle" aria-expanded="false" aria-controls="submenu-1">��޴� 1 <span class="indicator">��</span></button>
                        <ul id="submenu-1" class="submenu" role="group">
                            <li><a href="#">�Ҹ޴� 1-1</a></li>
                            <li><a href="#">�Ҹ޴� 1-2</a></li>
                            <li><a href="#">�Ҹ޴� 1-3</a></li>
                        </ul>
                    </li>

                    <li class="item">
                        <button type="button" class="lnb-toggle" aria-expanded="false" aria-controls="submenu-2">��޴� 2 <span class="indicator">��</span></button>
                        <ul id="submenu-2" class="submenu" role="group">
                            <li><a href="#">�Ҹ޴� 2-1</a></li>
                            <li><a href="#">�Ҹ޴� 2-2</a></li>
                        </ul>
                    </li>

                    <li class="item">
                        <button type="button" class="lnb-toggle" aria-expanded="false" aria-controls="submenu-3">��޴� 3 <span class="indicator">��</span></button>
                        <ul id="submenu-3" class="submenu" role="group">
                            <li><a href="#">�Ҹ޴� 3-1</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>

            <main id="main" class="contentWrap" role="main" tabindex="-1">������ ����</main>
        </div>

        <script>
            // IE11 ȣȯ(ES5): let/const, forEach, arrow �Լ� ������� ����
            (function () {
                var lnb = document.querySelector(".lnb");
                if (!lnb) return;

                var singleMode = lnb.getAttribute("data-accordion") === "single";
                var toggles = lnb.getElementsByClassName("lnb-toggle");

                function closeItem(li) {
                    if (!li) return;
                    var btn = li.getElementsByClassName("lnb-toggle")[0];
                    var submenu = li.querySelector(".submenu");

                    if (btn) btn.setAttribute("aria-expanded", "false");

                    // CSS �ִϸ��̼��� ���� Ŭ������ ���� (display ���� ����)
                    if (li.className.indexOf("is-open") !== -1) {
                        li.className = li.className.replace("is-open", "").replace("  ", " ");
                    }
                }

                function openItem(li) {
                    if (!li) return;
                    var btn = li.getElementsByClassName("lnb-toggle")[0];
                    var submenu = li.querySelector(".submenu");

                    if (btn) btn.setAttribute("aria-expanded", "true");

                    // CSS �ִϸ��̼��� ���� Ŭ������ �߰� (display ���� ����)
                    if (li.className.indexOf("is-open") === -1) {
                        li.className += " is-open";
                    }
                }

                function toggleItem(li) {
                    var isOpen = li.className.indexOf("is-open") !== -1;
                    if (isOpen) {
                        closeItem(li);
                    } else {
                        if (singleMode) {
                            // ���� ���� ���� ��� �ݱ�
                            var siblings = li.parentNode.children;
                            for (var i = 0; i < siblings.length; i++) {
                                if (siblings[i] !== li) closeItem(siblings[i]);
                            }
                        }
                        openItem(li);
                    }
                }

                function onClick(e) {
                    var target = e.target || e.srcElement;

                    // ��ư ��ü/�ڽ�(������ span) Ŭ�� ��� ���
                    while (target && target !== lnb && !hasClass(target, "lnb-toggle")) {
                        target = target.parentNode;
                    }
                    if (!target || target === lnb) return;

                    var li = target.parentNode;
                    toggleItem(li);
                }

                function onKeydown(e) {
                    var target = e.target || e.srcElement;
                    if (!hasClass(target, "lnb-toggle")) return;
                    var key = e.keyCode || e.which;
                    // Enter(13), Space(32)
                    if (key === 13 || key === 32) {
                        e.preventDefault ? e.preventDefault() : (e.returnValue = false);
                        toggleItem(target.parentNode);
                    }
                }

                function hasClass(el, cls) {
                    // IE11: classList ��� ���������� ���ڿ� üũ�� ���� ó��
                    return (" " + el.className + " ").indexOf(" " + cls + " ") > -1;
                }

                lnb.addEventListener("click", onClick, false);
                lnb.addEventListener("keydown", onKeydown, false);
            })();
        </script>
    </body>
</html>
