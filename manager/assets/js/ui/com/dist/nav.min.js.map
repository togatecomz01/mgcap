{"version":3,"sources":["nav.js"],"names":["lnb","document","querySelector","singleMode","getAttribute","CLASS_OPEN","CLASS_TOGGLE","SELECTOR_SUBMENU","addEventListener","e","target","srcElement","handleClick","hasClass","parentNode","toggleItem","key","KEY_ENTER","preventDefault","returnValue","className","el","indexOf","closeItem","li","btn","setAttribute","removeClass","trim","openItem","addClass","currentLi","siblings","children","i","length","closeSiblings"],"mappings":"cAIA,WAII,IAAIA,EAAMC,SAASC,cAAc,aAAjC,GAAOF,EAAP,CAIA,IAAIG,EAAoD,WAAvCH,EAAII,aAAa,kBAC9BC,EAAa,SACbC,EAAe,YACfC,EAAmB,WAoJvBP,EAAIQ,iBAAiB,QApCrB,SAAqBC,GAArB,IACI,IAAIC,EAASD,EAAEC,QAAUD,EAAEE,WADtBC,GAATF,IAAwBV,IAAAa,EAAAH,EAAAJ,IAChBI,EAAWA,EAAFI,WAIHJ,GAAUI,IAAhBd,GAGAe,EAEKL,EAAOI,cA0BuB,GAC3Cd,EAAIQ,iBAAiB,UAnBrB,SAAuBC,GACnB,IAAIC,EAASD,EAAEC,QAAUD,EAAEE,WAC3B,GAAKE,EAASH,EAAQJ,GAAtB,CADII,IAAAA,EAAUD,EAACC,SAAYC,EAAAA,MA/H/B,KAqIQK,GAnIR,KAmI6BA,IAAbC,EAAAA,eACFC,EAAAA,iBAECT,EAAAU,aAAA,EAENJ,EAAAL,EAAAI,gBAOsC,GAxI3C,SAAID,EAAQO,EAAZA,GACA,SAAQC,IAAQD,KACnB,GAAA,IAAAC,EAAAD,UAAA,KAAAE,QAAA,IAAAF,EAAA,KA0BD,SAASG,EAAUC,GACf,GAAKA,EAAL,CAAI,IAAJC,EAASD,EAAAtB,cAAA,IAAAI,GAEIJ,EAAAA,cAAoBI,GAG7BmB,GAAJA,EAASC,aAAA,gBAAA,SAfb,SAAqBL,EAAID,GAAhBO,GAAAA,GAAgBP,EAAWC,EAAAD,KAC5BC,EAAAD,UAAQA,EAARA,UAAsBP,QAAaO,IAAAA,OAAY,OAAAA,EAAA,OAAA,KAAA,KAAAQ,QAmBnDD,CAAYH,EAAInB,IAOpB,SAASwB,EAASL,GACd,GAAKA,EAAL,CAAI,IAAJC,EAASD,EAAAtB,cAAA,IAAAI,GAEIJ,EAAAA,cAAoBI,GAG7BmB,GAAJA,EAASC,aAAA,gBAAA,QA3Cb,SAAAL,EAAsBD,GACdC,GAAQD,IAAaP,EAAaO,EAAAA,KACnCA,EAAAA,WAAgBA,EAAAA,UAAH,IAAqBA,GAAtBQ,QA8CfE,CAASN,EAAInB,IAsBjB,SAASU,EAAWS,GACXA,IADTX,EAAwBW,EAAAnB,GAMhBkB,EAAUC,IACPrB,GAtBX,SAAuB4B,GACnB,GAAKA,GAAcA,EAAUjB,WAEzBkB,IAFA,IAACD,EAAcA,EAAUjB,WAA7BmB,SAEYC,EAAGH,EAAAA,EAASC,EAAClB,OAAWmB,IAE5BD,EAASE,KAAOH,GADdR,EAAUS,EAASG,IAmBzBC,CAAAZ,GAEIY,EAAaZ,MAjH7B","file":"nav.min.js","sourcesContent":["/**\n * �׺���̼� ���ڵ�� ������Ʈ\n * IE11 ȣȯ(ES5): let/const, forEach, arrow �Լ� ������� ����\n */\n(function () {\n    'use strict';\n    \n    // DOM ��� ĳ��\n    var lnb = document.querySelector('#menuWrap');\n    if (!lnb) return;\n\n    // ������\n    var singleMode = lnb.getAttribute('data-accordion') === 'single';\n    var CLASS_OPEN = 'acitve';\n    var CLASS_TOGGLE = 'accordion';\n    var SELECTOR_SUBMENU = '.submenu';\n    \n    // Ű���� �̺�Ʈ ���\n    var KEY_ENTER = 13;\n    var KEY_SPACE = 32;\n\n    /**\n     * ��ҿ� Ŭ������ �ִ��� Ȯ��\n     * @param {Element} el - Ȯ���� ���\n     * @param {string} className - Ȯ���� Ŭ������\n     * @returns {boolean}\n     */\n    function hasClass(el, className) {\n        if (!el || !className) return false;\n        return (' ' + el.className + ' ').indexOf(' ' + className + ' ') > -1;\n    }\n\n    /**\n     * ��ҿ� Ŭ���� �߰�\n     * @param {Element} el - ��� ���\n     * @param {string} className - �߰��� Ŭ������\n     */\n    function addClass(el, className) {\n        if (!el || !className || hasClass(el, className)) return;\n        el.className = (el.className + ' ' + className).trim();\n    }\n\n    /**\n     * ��ҿ��� Ŭ���� ����\n     * @param {Element} el - ��� ���\n     * @param {string} className - ������ Ŭ������\n     */\n    function removeClass(el, className) {\n        if (!el || !className || !hasClass(el, className)) return;\n        el.className = el.className.replace(new RegExp('\\\\s*' + className + '\\\\s*', 'g'), ' ').trim();\n    }\n\n    /**\n     * �޴� ������ �ݱ�\n     * @param {Element} li - ���� li ���\n     */\n    function closeItem(li) {\n        if (!li) return;\n        \n        var btn = li.querySelector('.' + CLASS_TOGGLE);\n        var submenu = li.querySelector(SELECTOR_SUBMENU);\n        \n        if (btn) {\n            btn.setAttribute('aria-expanded', 'false');\n        }\n        \n        // CSS �ִϸ��̼��� ���� Ŭ������ ���� (display ���� ����)\n        removeClass(li, CLASS_OPEN);\n    }\n\n    /**\n     * �޴� ������ ����\n     * @param {Element} li - �� li ���\n     */\n    function openItem(li) {\n        if (!li) return;\n        \n        var btn = li.querySelector('.' + CLASS_TOGGLE);\n        var submenu = li.querySelector(SELECTOR_SUBMENU);\n        \n        if (btn) {\n            btn.setAttribute('aria-expanded', 'true');\n        }\n        \n        // CSS �ִϸ��̼��� ���� Ŭ������ �߰� (display ���� ����)\n        addClass(li, CLASS_OPEN);\n    }\n\n    /**\n     * ���� �޴� �����۵� ��� �ݱ�\n     * @param {Element} currentLi - ���� li ��� (������ ���)\n     */\n    function closeSiblings(currentLi) {\n        if (!currentLi || !currentLi.parentNode) return;\n        \n        var siblings = currentLi.parentNode.children;\n        for (var i = 0; i < siblings.length; i++) {\n            if (siblings[i] !== currentLi) {\n                closeItem(siblings[i]);\n            }\n        }\n    }\n\n    /**\n     * �޴� ������ ���\n     * @param {Element} li - ����� li ���\n     */\n    function toggleItem(li) {\n        if (!li) return;\n        \n        var isOpen = hasClass(li, CLASS_OPEN);\n        \n        if (isOpen) {\n            closeItem(li);\n        } else {\n            // ���� ����� �� ���� ��ҵ� �ݱ�\n            if (singleMode) {\n                closeSiblings(li);\n            }\n            openItem(li);\n        }\n    }\n\n    /**\n     * Ŭ�� �̺�Ʈ �ڵ鷯\n     * @param {Event} e - Ŭ�� �̺�Ʈ\n     */\n    function handleClick(e) {\n        var target = e.target || e.srcElement;\n        \n        // ��ư ��ü �Ǵ� �ڽ� ���(������ ��) Ŭ�� ��� ���\n        while (target && target !== lnb && !hasClass(target, CLASS_TOGGLE)) {\n            target = target.parentNode;\n        }\n        \n        if (!target || target === lnb) return;\n\n        var li = target.parentNode;\n        toggleItem(li);\n    }\n\n    /**\n     * Ű���� �̺�Ʈ �ڵ鷯\n     * @param {Event} e - Ű���� �̺�Ʈ\n     */\n    function handleKeydown(e) {\n        var target = e.target || e.srcElement;\n        if (!hasClass(target, CLASS_TOGGLE)) return;\n        \n        var key = e.keyCode || e.which;\n        \n        // Enter �Ǵ� Space Ű ó��\n        if (key === KEY_ENTER || key === KEY_SPACE) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            } else {\n                e.returnValue = false;\n            }\n            toggleItem(target.parentNode);\n        }\n    }\n\n    // �̺�Ʈ ������ ���\n    lnb.addEventListener('click', handleClick, false);\n    lnb.addEventListener('keydown', handleKeydown, false);\n})();"]}