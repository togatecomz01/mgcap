{"version":3,"sources":["nav.js"],"names":["lnb","document","querySelector","singleMode","getAttribute","CLASS_OPEN","CLASS_TOGGLE","SELECTOR_SUBMENU","KEY_ENTER","KEY_SPACE","hasClass","el","className","indexOf","addClass","trim","removeClass","replace","RegExp","closeItem","li","btn","submenu","setAttribute","openItem","closeSiblings","currentLi","parentNode","siblings","children","i","length","toggleItem","isOpen","handleClick","e","target","srcElement","handleKeydown","key","keyCode","which","preventDefault","returnValue","addEventListener"],"mappings":"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","sourcesContent":["/**\n * �׺���̼� ���ڵ�� ������Ʈ\n * IE11 ȣȯ(ES5): let/const, forEach, arrow �Լ� ������� ����\n */\n(function () {\n    'use strict';\n    \n    // DOM ��� ĳ��\n    var lnb = document.querySelector('#menuWrap');\n    if (!lnb) return;\n\n    // ������\n    var singleMode = lnb.getAttribute('data-accordion') === 'single';\n    var CLASS_OPEN = 'acitve';\n    var CLASS_TOGGLE = 'accordion';\n    var SELECTOR_SUBMENU = '.submenu';\n    \n    // Ű���� �̺�Ʈ ���\n    var KEY_ENTER = 13;\n    var KEY_SPACE = 32;\n\n    /**\n     * ��ҿ� Ŭ������ �ִ��� Ȯ��\n     * @param {Element} el - Ȯ���� ���\n     * @param {string} className - Ȯ���� Ŭ������\n     * @returns {boolean}\n     */\n    function hasClass(el, className) {\n        if (!el || !className) return false;\n        return (' ' + el.className + ' ').indexOf(' ' + className + ' ') > -1;\n    }\n\n    /**\n     * ��ҿ� Ŭ���� �߰�\n     * @param {Element} el - ��� ���\n     * @param {string} className - �߰��� Ŭ������\n     */\n    function addClass(el, className) {\n        if (!el || !className || hasClass(el, className)) return;\n        el.className = (el.className + ' ' + className).trim();\n    }\n\n    /**\n     * ��ҿ��� Ŭ���� ����\n     * @param {Element} el - ��� ���\n     * @param {string} className - ������ Ŭ������\n     */\n    function removeClass(el, className) {\n        if (!el || !className || !hasClass(el, className)) return;\n        el.className = el.className.replace(new RegExp('\\\\s*' + className + '\\\\s*', 'g'), ' ').trim();\n    }\n\n    /**\n     * �޴� ������ �ݱ�\n     * @param {Element} li - ���� li ���\n     */\n    function closeItem(li) {\n        if (!li) return;\n        \n        var btn = li.querySelector('.' + CLASS_TOGGLE);\n        var submenu = li.querySelector(SELECTOR_SUBMENU);\n        \n        if (btn) {\n            btn.setAttribute('aria-expanded', 'false');\n        }\n        \n        // CSS �ִϸ��̼��� ���� Ŭ������ ���� (display ���� ����)\n        removeClass(li, CLASS_OPEN);\n    }\n\n    /**\n     * �޴� ������ ����\n     * @param {Element} li - �� li ���\n     */\n    function openItem(li) {\n        if (!li) return;\n        \n        var btn = li.querySelector('.' + CLASS_TOGGLE);\n        var submenu = li.querySelector(SELECTOR_SUBMENU);\n        \n        if (btn) {\n            btn.setAttribute('aria-expanded', 'true');\n        }\n        \n        // CSS �ִϸ��̼��� ���� Ŭ������ �߰� (display ���� ����)\n        addClass(li, CLASS_OPEN);\n    }\n\n    /**\n     * ���� �޴� �����۵� ��� �ݱ�\n     * @param {Element} currentLi - ���� li ��� (������ ���)\n     */\n    function closeSiblings(currentLi) {\n        if (!currentLi || !currentLi.parentNode) return;\n        \n        var siblings = currentLi.parentNode.children;\n        for (var i = 0; i < siblings.length; i++) {\n            if (siblings[i] !== currentLi) {\n                closeItem(siblings[i]);\n            }\n        }\n    }\n\n    /**\n     * �޴� ������ ���\n     * @param {Element} li - ����� li ���\n     */\n    function toggleItem(li) {\n        if (!li) return;\n        \n        var isOpen = hasClass(li, CLASS_OPEN);\n        \n        if (isOpen) {\n            closeItem(li);\n        } else {\n            // ���� ����� �� ���� ��ҵ� �ݱ�\n            if (singleMode) {\n                closeSiblings(li);\n            }\n            openItem(li);\n        }\n    }\n\n    /**\n     * Ŭ�� �̺�Ʈ �ڵ鷯\n     * @param {Event} e - Ŭ�� �̺�Ʈ\n     */\n    function handleClick(e) {\n        var target = e.target || e.srcElement;\n        \n        // ��ư ��ü �Ǵ� �ڽ� ���(������ ��) Ŭ�� ��� ���\n        while (target && target !== lnb && !hasClass(target, CLASS_TOGGLE)) {\n            target = target.parentNode;\n        }\n        \n        if (!target || target === lnb) return;\n\n        var li = target.parentNode;\n        toggleItem(li);\n    }\n\n    /**\n     * Ű���� �̺�Ʈ �ڵ鷯\n     * @param {Event} e - Ű���� �̺�Ʈ\n     */\n    function handleKeydown(e) {\n        var target = e.target || e.srcElement;\n        if (!hasClass(target, CLASS_TOGGLE)) return;\n        \n        var key = e.keyCode || e.which;\n        \n        // Enter �Ǵ� Space Ű ó��\n        if (key === KEY_ENTER || key === KEY_SPACE) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            } else {\n                e.returnValue = false;\n            }\n            toggleItem(target.parentNode);\n        }\n    }\n\n    // �̺�Ʈ ������ ���\n    lnb.addEventListener('click', handleClick, false);\n    lnb.addEventListener('keydown', handleKeydown, false);\n})();"],"file":"nav.dev.js"}